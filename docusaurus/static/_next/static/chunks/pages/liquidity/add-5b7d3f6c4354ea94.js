(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{2116:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/liquidity/add",function(){return t(72720)}])},87856:function(n,e,t){"use strict";t.d(e,{Z:function(){return c}});var o=t(85893),i=(t(67294),t(24734)),r=t(10317),a=t(31992);function l(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),o.forEach((function(e){l(n,e,t[e])}))}return n}function c(n){var e=n.token1,t=n.token2,l=n.size,c=n.className,u=n.CoinAvatar1,d=n.CoinAvatar2;return(0,o.jsxs)(a.Z,{className:(0,i.m)("-space-x-1",c),children:[(0,o.jsx)(r.Z,s({size:l,token:e},u)),(0,o.jsx)(r.Z,s({size:l,token:t},d))]})}},72720:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Fn}});var o=t(85893),i=t(67294),r=t(13550),a=t.n(r),l=t(24734),s=t(73732),c=t(97953),u=t(34051),d=t.n(u),m=t(15441),f=t(50354),v=t(68393),x=t(65873);function h(n,e,t,o,i,r,a){try{var l=n[r](a),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(o,i)}function p(){var n,e=(0,x.Z)((function(n){return n.coin1})),t=(0,x.Z)((function(n){return n.coin2})),o=(0,x.Z)((function(n){return n.ammId})),r=(0,x.Z)((function(n){return n.currentJsonInfo}));(0,i.useEffect)((function(){var n,e;if(o){var t=x.Z.getState(),i=t.coin1,r=t.coin2,a=t.jsonInfos,l=a.find((function(n){return n.id===o}));if((!(0,f.aT)(null===i||void 0===i?void 0:i.mint,null===l||void 0===l?void 0:l.baseMint)||!(0,f.aT)(null===r||void 0===r?void 0:r.mint,null===l||void 0===l?void 0:l.quoteMint))&&(!(0,f.aT)(null===i||void 0===i?void 0:i.mint,null===l||void 0===l?void 0:l.quoteMint)||!(0,f.aT)(null===r||void 0===r?void 0:r.mint,null===l||void 0===l?void 0:l.baseMint))){var s=m.ZP.getState().getToken,c=s(null===(n=a.find((function(n){return n.id===o})))||void 0===n?void 0:n.baseMint),u=s(null===(e=a.find((function(n){return n.id===o})))||void 0===e?void 0:e.quoteMint);x.Z.setState({coin1:c,coin2:u})}}}),[o]),(0,v.Z)((n=d().mark((function n(){var o,i,r,a,l;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=x.Z.getState(),i=o.findLiquidityInfoByTokenMint,r=o.ammId,n.next=3,i(null===e||void 0===e?void 0:e.mint,null===t||void 0===t?void 0:t.mint);case 3:if(a=n.sent,!(l=a.best)){n.next=11;break}if(r!==(null===l||void 0===l?void 0:l.id)){n.next=8;break}return n.abrupt("return");case 8:x.Z.setState({ammId:null===l||void 0===l?void 0:l.id,currentJsonInfo:l}),n.next=12;break;case 11:x.Z.setState({ammId:void 0,currentJsonInfo:void 0});case 12:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(o,i){var r=n.apply(e,t);function a(n){h(r,o,i,a,l,"next",n)}function l(n){h(r,o,i,a,l,"throw",n)}a(void 0)}))}),[e,t]),(0,i.useEffect)((function(){var n=x.Z.getState(),e=n.jsonInfos,t=n.currentJsonInfo;if(!((null===t||void 0===t?void 0:t.id)===o)){var i=e.find((function(n){return n.id===o}));x.Z.setState({currentJsonInfo:i})}}),[o]),(0,i.useEffect)((function(){var n=x.Z.getState().ammId;if(!((null===r||void 0===r?void 0:r.id)===n)){var e=null===r||void 0===r?void 0:r.id;x.Z.setState({ammId:e})}}),[r])}var b=t(55318),g=t(85928),y=t(43003),Z=t(76700),j=t(49552),k=t(71633);function S(n){var e=n?(0,k.B)(n):"";return(0,j.eq)(e,0)?"":e}var w=t(30992),N=t(80110),I=t(42137);function C(n,e,t,o,i,r,a){try{var l=n[r](a),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(o,i)}function A(n){return function(){var e=this,t=arguments;return new Promise((function(o,i){var r=n.apply(e,t);function a(n){C(r,o,i,a,l,"next",n)}function l(n){C(r,o,i,a,l,"throw",n)}a(void 0)}))}}function P(){var n=(0,N.ZP)((function(n){return n.connection})),e=(0,x.Z)((function(n){return n.currentJsonInfo})),t=(0,x.Z)((function(n){return n.currentSdkParsedInfo})),o=(0,x.Z)((function(n){return n.coin1})),r=(0,x.Z)((function(n){return n.coin2})),a=(0,x.Z)((function(n){return n.coin1Amount})),l=(0,x.Z)((function(n){return n.coin2Amount})),c=(0,x.Z)((function(n){return n.focusSide})),u=(0,x.Z)((function(n){return n.refreshCount})),m=(0,s.Z)((function(n){return n.slippageTolerance}));(0,i.useEffect)((function(){T.clear()}),[u]),(0,v.Z)(A(d().mark((function n(){var i,s,u,f;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&r&&t&&e){n.next=2;break}return n.abrupt("return");case 2:if(!(!(0,w.CW)([(0,I.Z)(t.baseMint),(0,I.Z)(t.quoteMint)],[String(o.mint),String(r.mint)])||"coin1"===c&&(0,j.eq)(a,0)||"coin2"===c&&(0,j.eq)(l,0))){n.next=6;break}return"coin1"===c&&x.Z.setState({coin2Amount:"",unslippagedCoin2Amount:""}),"coin2"===c&&x.Z.setState({coin1Amount:"",unslippagedCoin1Amount:""}),n.abrupt("return");case 6:return n.prev=6,n.next=9,q({coin1:o,userCoin1Amount:a,coin2:r,userCoin2Amount:l,focusSide:c,currentJsonInfo:e,currentSdkParsedInfo:t,slippageTolerance:m});case 9:if(i=n.sent,s=i.amount,u=i.unslippagedAmount,f=function(){var n=x.Z.getState(),e=n.coin1Amount,t=n.coin2Amount,o="coin1"===c?e:t,i="coin1"===c?a:l;return(0,j.eq)(o,i)}(),f){n.next=15;break}return n.abrupt("return");case 15:"coin1"===c?x.Z.setState({coin2Amount:s,unslippagedCoin2Amount:u}):x.Z.setState({coin1Amount:s,unslippagedCoin1Amount:u}),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(6),console.error("err: ",n.t0);case 21:case"end":return n.stop()}}),n,null,[[6,18]])}))),[o,r,a,l,c,n,t,m,u])}var T=new Map;function q(n){return B.apply(this,arguments)}function B(){return B=A(d().mark((function n(e){var t,o,i,r,a,l,s,c,u,m,f,v,x,h;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.coin1,o=e.coin2,i=e.userCoin1Amount,r=e.userCoin2Amount,a=e.focusSide,l=e.slippageTolerance,s=e.currentJsonInfo,c=e.currentSdkParsedInfo,m=(u="coin1"===a?t:o)===t?o:t,f=(0,Z.n)(u,"coin1"===a?i:r,{alreadyDecimaled:!0}),v=b.ZpI.computeAnotherAmount({poolKeys:(0,b.Rl)(s),poolInfo:c,amount:(0,g.wO)(f),anotherCurrency:(0,g.et)(m),slippage:(0,y.y)((0,y.y)(l))}),x=v.maxAnotherAmount,h=v.anotherAmount,n.abrupt("return",{amount:S((0,g.wE)(x).toExact()),unslippagedAmount:S((0,g.wE)(h).toExact())});case 6:case"end":return n.stop()}}),n)}))),B.apply(this,arguments)}var R=t(15752);var M=t(11163),L=t(68803),E=t(16176),D=t(23264),O=t(86516);function F(n,e,t,o,i,r,a){try{var l=n[r](a),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(o,i)}function z(){var n,e=(0,M.useRouter)(),t=e.query,o=e.pathname,r=e.replace,a=(0,x.Z)((function(n){return n.coin1})),l=(0,x.Z)((function(n){return n.coin2})),c=(0,x.Z)((function(n){return n.coin1Amount})),u=(0,x.Z)((function(n){return n.coin2Amount})),h=(0,x.Z)((function(n){return n.focusSide})),p=(0,x.Z)((function(n){return n.jsonInfos})),b=(0,x.Z)((function(n){return n.ammId})),g=(0,x.Z)((function(n){return n.isRemoveDialogOpen})),y=(0,i.useCallback)((function(n){return p.find((function(e){return e.id===n}))}),[p]),Z=(0,x.Z)((function(n){return n.findLiquidityInfoByTokenMint})),j=(0,m.ZP)((function(n){return n.tokens})),k=(0,m.ZP)((function(n){return n.getToken})),S=(0,m.ZP)((function(n){return n.toUrlMint})),w=(0,s.Z)((function(n){return n.inCleanUrlMode})),N=(0,i.useRef)(!1);(0,i.useEffect)((function(){o.includes("/liquidity/add")||(N.current=!1)}),[o]),(0,i.useEffect)((function(){var n=function(){return N.current=!1};return null===globalThis||void 0===globalThis||globalThis.addEventListener("beforeunload",n),function(){return null===globalThis||void 0===globalThis?void 0:globalThis.removeEventListener("beforeunload",n)}}),[]),(0,v.Z)((n=d().mark((function n(){var e,i,r,s,c,u,m,f,v,b,g,S,w,I,C,A,P,T,q,B,R,M,E,O,F;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.includes("/liquidity/add")){n.next=2;break}return n.abrupt("return");case 2:if(!N.current){n.next=4;break}return n.abrupt("return");case 4:if(e=L.Z.getState().logWarning,s=String(null!==(r=null!==(i=t.ammId)&&void 0!==i?i:t.ammid)&&void 0!==r?r:""),u=String(null!==(c=t.coin0)&&void 0!==c?c:""),f=String(null!==(m=t.coin1)&&void 0!==m?m:""),b=String(null!==(v=t.amount0)&&void 0!==v?v:""),S=String(null!==(g=t.amount1)&&void 0!==g?g:""),I=String(null!==(w=t.fixed)&&void 0!==w?w:""),A=String(null!==(C=t.mode)&&void 0!==C?C:""),!(s||u&&f)){n.next=39;break}if(P=k(u),T=k(f),!s){n.next=26;break}n.t0=y(s),n.next=34;break;case 26:if(!P||!T){n.next=32;break}return n.next=29,Z(P.mint,T.mint);case 29:n.t1=n.sent.best,n.next=33;break;case 32:n.t1=void 0;case 33:n.t0=n.t1;case 34:q=n.t0,B=u?k(u,{exact:!0}):k(f?null===q||void 0===q?void 0:q.quoteMint:null===q||void 0===q?void 0:q.baseMint),R=f?k(f,{exact:!0}):k(u?null===q||void 0===q?void 0:q.baseMint:null===q||void 0===q?void 0:q.quoteMint),String(null===a||void 0===a?void 0:a.mint)===String(null===B||void 0===B?void 0:B.mint)&&String(null===l||void 0===l?void 0:l.mint)===String(null===R||void 0===R?void 0:R.mint)||x.Z.setState((0,D.dI)({coin1:B,coin2:R})),q?x.Z.setState({currentJsonInfo:q,ammId:q.id}):s&&p.length>0&&e("can't find Liquidity pool with url ammId");case 39:if(p.length>0&&Object.keys(j).length>0&&(N.current=!0),E=f?S:u?b:void 0,(M=u?b:f?S:void 0)&&x.Z.setState({coin1Amount:M}),E&&x.Z.setState({coin2Amount:E}),!A||A.toLowerCase()!=="removeLiquidity".toLowerCase()){n.next=49;break}if(!x.Z.getState().isRemoveDialogOpen){n.next=48;break}return n.abrupt("return");case 48:x.Z.setState({isRemoveDialogOpen:!0});case 49:O="coin1"===h?"coin0":"coin1",("coin0"===I||"coin1"===I)&&O!==I&&(F="coin0"===I?"coin1":"coin2",x.Z.setState({focusSide:F}));case 52:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(o,i){var r=n.apply(e,t);function a(n){F(r,o,i,a,l,"next",n)}function l(n){F(r,o,i,a,l,"throw",n)}a(void 0)}))}),[o,t,k,j,r,a,l,p,y,Z]);var I=(0,i.useCallback)((0,E.P)((function(n,e){r({pathname:n,query:e},void 0,{shallow:!0})}),{delay:500}),[]);(0,O.P)((function(){if(o.includes("/liquidity/add")&&N.current&&!w){var n,e,i,r,s,d,m,v,x=a?S(a):"",p=l?S(l):"",y=(0,D.dI)({coin0:String(null!==(n=t.coin0)&&void 0!==n?n:""),coin1:String(null!==(e=t.coin1)&&void 0!==e?e:""),amount0:String(null!==(i=t.amount0)&&void 0!==i?i:""),amount1:String(null!==(r=t.amount1)&&void 0!==r?r:""),fixed:String(null!==(s=t.fixed)&&void 0!==s?s:""),ammId:String(null!==(m=null!==(d=t.ammId)&&void 0!==d?d:t.ammid)&&void 0!==m?m:""),mode:String(null!==(v=t.mode)&&void 0!==v?v:"")}),Z=(0,D.dI)({coin0:x,coin1:p,amount0:c,amount1:u,fixed:"coin1"===h?"coin0":"coin1",ammId:b,mode:g?"removeLiquidity":""});!(0,f.Ek)(y,Z)&&I(o,Z)}}),[w,a,l,c,u,h,b,g,t,r,o])}var U=t(82545),J=t(79353),_=t(10723),H=t(78670);function V(n,e,t,o,i,r,a){try{var l=n[r](a),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(o,i)}function W(n){return function(){var e=this,t=arguments;return new Promise((function(o,i){var r=n.apply(e,t);function a(n){V(r,o,i,a,l,"next",n)}function l(n){V(r,o,i,a,l,"throw",n)}a(void 0)}))}}var $=t(59128),K=t(37543),X=t(84055),Y=t(87856),G=t(96720),Q=t(10959),nn=t(84699),en=t(45674),tn=t(16082),on=t(68998),rn=t(31992),an=t(89005),ln=t(6998),sn=t(29632);function cn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function un(n,e,t,o,i,r,a){try{var l=n[r](a),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(o,i)}function dn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,i,r=[],a=!0,l=!1;try{for(t=t.call(n);!(a=(o=t.next()).done)&&(r.push(o.value),!e||r.length!==e);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return r}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return cn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cn(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(n){var e=n.open,t=n.onClose,r=n.className,a=dn(i.useState(""),2),s=a[0],c=a[1],u=(0,i.useRef)(),f=function(){var n,e=(n=d().mark((function n(e){var t,o,i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t=m.ZP.getState().getToken,(0,J.Z)((0,an.vd)(e),"invalid public key"),!(o=(0,ln._0)(e))){n.next=7;break}return x.Z.setState({coin1:t(o.base),coin2:t(o.quote)}),n.abrupt("return");case 7:return n.next=9,(0,ln.j_)(e);case 9:if(!(i=n.sent)){n.next=13;break}return x.Z.setState({coin1:t(i.base),coin2:t(i.quote)}),n.abrupt("return");case 13:throw new Error("fail to extract info throungh this AMMId or MarketId");case 16:throw n.prev=16,n.t0=n.catch(0),(0,L.Z.getState().logError)(String(n.t0)),n.t0;case 21:case"end":return n.stop()}}),n,null,[[0,16]])})),function(){var e=this,t=arguments;return new Promise((function(o,i){var r=n.apply(e,t);function a(n){un(r,o,i,a,l,"next",n)}function l(n){un(r,o,i,a,l,"throw",n)}a(void 0)}))});return function(n){return e.apply(this,arguments)}}();return(0,o.jsx)(tn.Z,{open:e,onClose:t,children:function(n){var e=n.close;return(0,o.jsxs)(X.Z,{className:(0,l.m)("shadow-xl backdrop-filter backdrop-blur-xl p-8 rounded-3xl w-[min(456px,90vw)] border-1.5 border-[rgba(171,196,255,0.2)]",r),size:"lg",style:{background:"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)",boxShadow:"0px 8px 48px rgba(171, 196, 255, 0.12)"},children:[(0,o.jsxs)(rn.Z,{className:"justify-between items-center mb-6",children:[(0,o.jsx)("div",{className:"text-xl font-semibold text-white",children:"Pool Search"}),(0,o.jsx)(on.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:e})]}),(0,o.jsx)(sn.Z,{inputStyle:"textarea",className:"mb-6",label:"AMM ID or Serum market ID",onUserInput:c,onEnter:function(n){f(n).then((function(){return e()})).catch((function(){}))}}),(0,o.jsx)(rn.Z,{className:"flex-col gap-1",children:(0,o.jsx)(K.Z,{className:"frosted-glass frosted-glass-teal",componentRef:u,onClick:function(){f(s).then((function(){return e()})).catch((function(){}))},children:"Search"})})]})}})}var fn=t(53522),vn=t(55740),xn=t(88644),hn=t(39880),pn=t(70242),bn=t(99693),gn=t(61118),yn=t(65629),Zn=t(51772),jn=t(84975),kn=t(80546),Sn=t(26209),wn=t(23612),Nn=t(3342),In=t(86224);function Cn(n,e,t,o,i,r,a){try{var l=n[r](a),s=l.value}catch(c){return void t(c)}l.done?e(s):Promise.resolve(s).then(o,i)}function An(n){return function(){var e=this,t=arguments;return new Promise((function(o,i){var r=n.apply(e,t);function a(n){Cn(r,o,i,a,l,"next",n)}function l(n){Cn(r,o,i,a,l,"throw",n)}a(void 0)}))}}function Pn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function Tn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,i,r=[],a=!0,l=!1;try{for(t=t.call(n);!(a=(o=t.next()).done)&&(r.push(o.value),!e||r.length!==e);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return r}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return Pn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pn(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(n){var e=n.info,t=n.open,r=n.onClose,a=n.className,c=(0,x.Z)((function(n){return n.currentHydratedInfo})),u=(0,x.Z)((function(n){return n.removeAmount})),f=(0,U.Z)((function(n){return n.connected})),v=null!==e&&void 0!==e?e:c,h=Tn(i.useState(!1),2),p=h[0],g=h[1],y=Tn(i.useState(!1),2),k=y[0],S=y[1],w=(0,i.useRef)(),N=(0,i.useRef)();return(0,o.jsx)(tn.Z,{open:t,onClose:function(){r(),x.Z.setState({removeAmount:""}),S(!1),g(!1)},children:function(n){var e=n.close;return(0,o.jsxs)(X.Z,{className:(0,l.m)("shadow-xl backdrop-filter backdrop-blur-xl p-8 rounded-3xl w-[min(456px,90vw)] border-1.5 border-[rgba(171,196,255,0.2)]",a),size:"lg",style:{background:"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)",boxShadow:"0px 8px 48px rgba(171, 196, 255, 0.12)"},children:[(0,o.jsxs)(rn.Z,{className:"justify-between items-center mb-6",children:[(0,o.jsx)("div",{className:"text-xl font-semibold text-white",children:"Stake LP"}),(0,o.jsx)(on.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:e})]}),(0,o.jsx)(G.Z,{className:"mb-6",componentRef:w,topLeftLabel:"Pool",token:null===v||void 0===v?void 0:v.lpToken,onUserInput:function(n){x.Z.setState({removeAmount:n})},onInputAmountClampInBalanceChange:function(n){var e=n.negative,t=n.outOfMax;S(!!e),g(!!t)},onEnter:function(n){var e,t;n&&(null===(e=N.current)||void 0===e||null===(t=e.click)||void 0===t||t.call(e))}}),(0,o.jsxs)(rn.Z,{className:"flex-col gap-1",children:[(0,o.jsx)(K.Z,{className:"frosted-glass frosted-glass-teal",componentRef:N,validators:[{should:(0,j.gt)(u,0)},{should:!p,fallbackProps:{children:"Amount Too Large"}},{should:!k,fallbackProps:{children:"Negative Amount"}},{should:f,forceActive:!0,fallbackProps:{onClick:function(){return s.Z.setState({isWalletSelectorShown:!0})},children:"Connect Wallet"}}],onClick:function(){(function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ammId;return(0,_.Z)(function(){var e=An(d().mark((function e(t){var o,i,r,a,l,s,c,u,f,v,h,p,g,y,j,k,S,w,N;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.transactionCollector,i=t.baseUtils,r=i.owner,a=i.connection,(0,J.Z)(n,"should provide ammId to remove liquidity"),l=U.Z.getState(),s=l.getTokenAccount,c=l.tokenAccountRawInfos,u=m.ZP.getState().getToken,f=x.Z.getState(),v=f.jsonInfos,h=f.currentJsonInfo,p=f.removeAmount,(0,J.Z)(p,"user have not input amount to remove lp"),g=n?v.find((function(e){return e.id===String(n)})):h,(0,J.Z)(g,"can't find target liquidity pool"),y=u(g.lpMint),(0,J.Z)(y,"can't find lp token in tokenList"),j=s(g.lpMint),k=(0,Z.n)(y,p,{alreadyDecimaled:!0}),(0,J.Z)(null===j||void 0===j?void 0:j.publicKey,"user haven't liquidity pool's account"),e.next=15,b.ZpI.makeRemoveLiquidityTransaction({connection:a,poolKeys:(0,b.Rl)(g),userKeys:{owner:r,tokenAccounts:c},amountIn:k});case 15:return S=e.sent,w=S.transaction,N=S.signers,e.t0=o,e.next=21,(0,H.G)({transaction:w,signers:N});case 21:e.t1=e.sent,e.t2={txHistoryInfo:{title:"Remove liquidity",description:"Remove  ".concat(k.toExact()," ").concat(y.symbol)},onTxSuccess:function(){x.Z.setState({removeAmount:"",isRemoveDialogOpen:!1})}},e.t0.add.call(e.t0,e.t1,e.t2);case 24:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())})({ammId:null===v||void 0===v?void 0:v.id}).then((function(){x.Z.setState({removeAmount:""}),S(!1),g(!1)}))},children:"Remove Liquidity"}),(0,o.jsx)(K.Z,{type:"text",className:"text-sm text-[#ABC4FF] opacity-50 backdrop-filter-none",onClick:e,children:"Cancel"})]})]})}})}var Bn=t(24666),Rn=t(93198);function Mn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function Ln(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,i,r=[],a=!0,l=!1;try{for(t=t.call(n);!(a=(o=t.next()).done)&&(r.push(o.value),!e||r.length!==e);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return r}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return Mn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mn(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var En=(0,Sn.Z)({hasAcceptedPriceChange:!1,coinInputBox1ComponentRef:(0,i.createRef)(),coinInputBox2ComponentRef:(0,i.createRef)(),liquidityButtonComponentRef:(0,i.createRef)()}),Dn=En.ContextProvider,On=En.useStore;function Fn(){return(0,o.jsxs)(Dn,{children:[(0,o.jsx)(zn,{}),(0,o.jsxs)(pn.Z,{mobileBarTitle:"Liquidity",metaTitle:"Liquidity - Raydium",children:[(0,o.jsx)(Un,{}),(0,o.jsx)(_n,{}),(0,o.jsx)(Gn,{}),(0,o.jsx)(Qn,{})]})]})}function zn(){return z(),function(){var n=(0,m.ZP)((function(n){return n.getToken}));(0,i.useEffect)((function(){setTimeout((function(){var e=x.Z.getState(),t=e.coin1,o=e.coin2,i=e.ammId;Boolean(i&&!t&&!o)||(t||(0,I.Z)(null===o||void 0===o?void 0:o.mint)===(0,I.Z)(g.aF.mint)||x.Z.setState({coin1:g.aF}),o||(0,I.Z)(null===t||void 0===t?void 0:t.mint)===(0,I.Z)(R.PD)||x.Z.setState({coin2:n(R.PD)}))}))}),[n])}(),p(),P(),null}function Un(){return(0,o.jsx)(rn.Z,{className:"mb-12 mobile:mb-2 self-center",children:(0,o.jsx)(gn.Z,{currentValue:"Liquidity",values:["Swap","Liquidity"],onChange:function(n){"Swap"===n&&(0,$.E)("/swap")}})})}function Jn(n){var e=n.className,t=n.isPanelOpen,i=n.temporarilyConfirm,r=n.permanentlyConfirm,a=n.onTemporarilyConfirm,s=n.onPermanentlyConfirm;return(0,o.jsx)(fn.Z,{show:t,children:(0,o.jsxs)("div",{className:(0,l.m)("bg-[#141041] rounded-xl py-3 px-6 mobile:px-4",e),children:[(0,o.jsxs)("div",{className:"text-sm",children:["I have read"," ",(0,o.jsx)(xn.Z,{href:"https://raydium.gitbook.io/raydium/exchange-trade-and-swap/liquidity-pools",children:"Raydium's Liquidity Guide"})," ","and understand the risks involved with providing liquidity and impermanent loss."]}),(0,o.jsx)(In.X,{checkBoxSize:"sm",className:"my-2 w-max",checked:i,onChange:a,label:(0,o.jsx)("div",{className:"text-sm italic text-[rgba(171,196,255,0.5)]",children:"Confirm"})}),(0,o.jsx)(In.X,{checkBoxSize:"sm",className:"my-2 w-max",checked:r,onChange:s,label:(0,o.jsx)("div",{className:"text-sm italic text-[rgba(171,196,255,0.5)]",children:"Do not warn again for this pool"})})]})})}function _n(){var n=(0,U.Z)(),e=n.connected,t=(n.owner,Ln((0,Nn.ZP)(),2)),r=t[0],a=t[1],l=a.on,c=a.off,u=(0,i.useState)("1"),f=u[0],v=u[1],h=(0,U.Z)((function(n){return n.checkWalletHasEnoughBalance})),p=(0,x.Z)(),y=p.coin1,S=p.coin1Amount,N=p.unslippagedCoin1Amount,I=p.coin2,C=p.coin2Amount,A=p.unslippagedCoin2Amount,P=p.focusSide,T=p.currentJsonInfo,q=p.currentHydratedInfo,B=p.isSearchAmmDialogOpen,R=p.refreshLiquidity,M=(0,m.ZP)((function(n){return n.refreshTokenPrice})),L=On(),E=L.coinInputBox1ComponentRef,D=L.coinInputBox2ComponentRef,O=L.liquidityButtonComponentRef,F=(0,i.useMemo)((function(){return Boolean(T)}),[T]),z=(0,i.useMemo)((function(){return Boolean(q)}),[q]),V=function(){var n=(0,x.Z)((function(n){return n.currentJsonInfo})),e=(0,x.Z)((function(n){return n.coin1})),t=(0,x.Z)((function(n){return n.coin2})),o=Ln((0,wn.Z)("USER_CONFIRMED_LIQUIDITY_AMM_LIST"),2),r=o[0],a=o[1],l=(0,i.useRef)(r);l.current=r;var s=(0,i.useCallback)((function(){var n;return Boolean(x.Z.getState().currentJsonInfo&&(null===(n=l.current)||void 0===n?void 0:n.includes(x.Z.getState().currentJsonInfo.id)))}),[]),c=(0,i.useState)(s),u=c[0],d=c[1],m=(0,i.useState)(!1),f=m[0],v=m[1];(0,i.useEffect)((function(){n&&v(!1),n&&d(s())}),[n]);var h=(0,i.useState)(!1),p=h[0],b=h[1],g=!u&&!f&&Boolean(n);return(0,i.useEffect)((function(){if(e&&t){var n=!s();b(n)}else b(!1)}),[e,t,n]),(0,i.useEffect)((function(){g&&b(!0)}),[g]),{closePanel:function(){return b(!1)},toggleTemporarilyConfirm:function(n){return v(n)},togglePermanentlyConfirm:function(n){d(n),n&&v(!0)},applyPermanentConfirm:function(n){u&&a((function(e){return(0,w.A5)((0,w.jX)(null!==e&&void 0!==e?e:[],n))}))},hasUserPermanentConfirmed:u,hasUserTemporaryConfirmed:f,needConfirmPanel:p}}(),$=V.closePanel,X=V.needConfirmPanel,Y=V.hasUserTemporaryConfirmed,Q=V.hasUserPermanentConfirmed,nn=V.applyPermanentConfirm,tn=V.toggleTemporarilyConfirm,an=V.togglePermanentlyConfirm,ln=y&&h((0,Z.n)(y,"coin1"===P?S:N,{alreadyDecimaled:!0})),sn=I&&h((0,Z.n)(I,"coin2"===P?C:A,{alreadyDecimaled:!0})),cn=(0,i.useRef)(null);(0,i.useEffect)((function(){x.Z.setState({scrollToInputBox:function(){var n;return null===(n=cn.current)||void 0===n?void 0:n.scrollIntoView({behavior:"smooth",block:"center"})}})}),[]);var un,dn,vn=(0,s.Z)((function(n){return n.isApprovePanelShown}));return(0,o.jsxs)(en.Z,{domRef:cn,wrapperClassName:"w-[min(456px,100%)] self-center cyberpunk-bg-light",className:"py-8 pt-4 px-6 mobile:py-5",size:"lg",style:{background:"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)"},children:[(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(G.Z,{className:"mt-5",disabled:vn,componentRef:E,value:"coin1"===P?S:N,haveHalfButton:!0,haveCoinIcon:!0,canSelect:!0,topLeftLabel:"",onTryToTokenSelect:function(){l(),v("1")},onUserInput:function(n){x.Z.setState({coin1Amount:n,focusSide:"coin1"})},onEnter:function(n){var e,t,o,i;n&&(I||null===(e=D.current)||void 0===e||null===(t=e.selectToken)||void 0===t||t.call(e),I&&C&&(null===(o=O.current)||void 0===o||null===(i=o.click)||void 0===i||i.call(o)))},token:y}),(0,o.jsxs)("div",{className:"relative h-8 my-4",children:[(0,o.jsxs)(rn.Z,{className:"absolute h-full items-center transition-all ".concat(z?"left-4":"left-1/2 -translate-x-1/2"),children:[(0,o.jsx)(on.Z,{heroIconName:"plus",className:"p-1 mr-4 mobile:mr-2 text-[#39D0D8]"}),(0,o.jsx)(fn.U,{children:z&&(0,o.jsx)(Wn,{className:"w-max"})})]}),(0,o.jsxs)(rn.Z,{className:"absolute right-0 items-center",children:[(0,o.jsx)(on.Z,{size:"sm",heroIconName:"search",className:"p-2 frosted-glass frosted-glass-teal rounded-full mr-4 clickable text-[#39D0D8] select-none",onClick:function(){x.Z.setState({isSearchAmmDialogOpen:!0})}}),(0,o.jsx)(bn.Z,{run:!vn,refreshKey:"liquidity/add",popPlacement:"right-bottom",freshFunction:function(){vn||(R(),M())}})]})]}),(0,o.jsx)(G.Z,{componentRef:D,disabled:vn,value:"coin2"===P?C:A,haveHalfButton:!0,haveCoinIcon:!0,canSelect:!0,topLeftLabel:"",onTryToTokenSelect:function(){l(),v("2")},onEnter:function(n){var e,t,o,i;n&&(y||null===(e=E.current)||void 0===e||null===(t=e.selectToken)||void 0===t||t.call(e),y&&S&&(null===(o=O.current)||void 0===o||null===(i=o.click)||void 0===i||i.call(o)))},onUserInput:function(n){x.Z.setState({coin2Amount:n,focusSide:"coin2"})},token:I})]}),(0,o.jsx)(fn.Z,{show:F,children:(0,o.jsx)($n,{className:"mt-5"})}),(0,o.jsx)(Jn,{className:"mt-5",isPanelOpen:X&&e,temporarilyConfirm:Y,permanentlyConfirm:Q,onTemporarilyConfirm:tn,onPermanentlyConfirm:an}),(0,o.jsx)(K.Z,{className:"block frosted-glass-teal w-full mt-5",componentRef:O,validators:[{should:F,fallbackProps:{children:"Pool not found"}},{should:e,forceActive:!0,fallbackProps:{onClick:function(){return s.Z.setState({isWalletSelectorShown:!0})},children:"Connect Wallet"}},{should:y&&I,fallbackProps:{children:"Select a token"}},{should:S&&(0,j.$u)(S)&&C&&(0,j.$u)(C),fallbackProps:{children:"Enter an amount"}},{should:!X||Y,fallbackProps:{children:"Confirm liquidity guide"}},{should:ln,fallbackProps:{children:"Insufficient ".concat(null!==(un=null===y||void 0===y?void 0:y.symbol)&&void 0!==un?un:""," balance")}},{should:sn,fallbackProps:{children:"Insufficient ".concat(null!==(dn=null===I||void 0===I?void 0:I.symbol)&&void 0!==dn?dn:""," balance")}},{should:(0,j.$u)(S)&&(0,j.$u)(C),fallbackProps:{children:"Enter an amount"}}],onClick:function(){T&&nn(T.id),function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ammId;return(0,_.Z)(function(){var e=W(d().mark((function e(t){var o,i,r,a,l,s,c,u,m,f,v,h,p,y,S,w,N,I,C,A,P;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.transactionCollector,i=t.baseUtils,r=i.connection,a=i.owner,l=U.Z.getState(),s=l.checkWalletHasEnoughBalance,c=l.tokenAccountRawInfos,u=x.Z.getState(),m=u.coin1,f=u.coin2,v=u.coin1Amount,h=u.coin2Amount,p=u.focusSide,y=u.jsonInfos,S=u.currentJsonInfo,w=n?y.find((function(e){return e.id===String(n)})):S,(0,J.Z)(w,"can't find liquidity pool"),(0,J.Z)(m,"select a coin in upper box"),(0,J.Z)(f,"select a coin in lower box"),(0,J.Z)(String(m.mint)!==String(f.mint),"should not select same mint "),(0,J.Z)(v&&(0,j.gt)(v,0),"should input coin1 amount larger than 0"),(0,J.Z)(h&&(0,j.gt)(h,0),"should input coin2 amount larger than 0"),N=(0,Z.n)(m,v,{alreadyDecimaled:!0}),I=(0,Z.n)(f,h,{alreadyDecimaled:!0}),(0,J.Z)(s(N),"not enough ".concat(m.symbol)),(0,J.Z)(s(I),"not enough ".concat(f.symbol)),e.next=16,b.ZpI.makeAddLiquidityTransaction({connection:r,poolKeys:(0,b.Rl)(w),userKeys:{tokenAccounts:c,owner:a},amountInA:(0,g.wO)(N),amountInB:(0,g.wO)(I),fixedSide:"coin1"===p?"a":"b"});case 16:return C=e.sent,A=C.transaction,P=C.signers,e.t0=o,e.next=22,(0,H.G)({transaction:A,signers:P});case 22:e.t1=e.sent,e.t2={txHistoryInfo:{title:"Add liquidity",description:"Add ".concat((0,k.B)(v)," ").concat(m.symbol," and ").concat((0,k.B)(h)," ").concat(f.symbol)}},e.t0.add.call(e.t0,e.t1,e.t2);case 25:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}().then((function(n){return n.allSuccess&&X&&Q&&$()}))},children:"Add Liquidity"}),(0,o.jsx)(Vn,{}),(0,o.jsx)(Bn.Z,{open:r,close:c,onSelectCoin:function(n){"1"===f?(x.Z.setState({coin1:n}),Hn(n,I)||x.Z.setState({coin2:void 0})):(x.Z.setState({coin2:n}),Hn(n,y)||x.Z.setState({coin1:void 0})),c()}}),(0,o.jsx)(mn,{open:B,onClose:function(){x.Z.setState({isSearchAmmDialogOpen:!1})}})]})}function Hn(n,e){return!(0,f.aT)(null===n||void 0===n?void 0:n.mint,null===e||void 0===e?void 0:e.mint)}function Vn(){var n=(0,U.Z)((function(n){return n.solBalance})),e=(0,kn.hi)(n,Math.pow(10,g.Bk));return(0,o.jsx)(fn.U,{children:e&&(0,j.lt)(e,g.kn)&&(0,j.eg)(e,0)&&(0,o.jsxs)(rn.Z,{className:"text-sm mt-2 text-[#D8CB39] items-center justify-center",children:["SOL balance: ",(0,k.B)(e)," ",(0,o.jsxs)(yn.Z,{placement:"bottom-right",children:[(0,o.jsx)(on.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,o.jsx)(yn.Z.Panel,{children:(0,o.jsxs)("p",{className:"w-80",children:["SOL is needed for Solana network fees. A minimum balance of ",g.kn," SOL is recommended to avoid failed transactions. This swap will leave you with less than ",g.kn," SOL."]})})]})]})})}function Wn(n){var e,t,r=n.className,a=(0,i.useState)(!1),c=a[0],u=a[1],d=(0,x.Z)((function(n){return n.currentHydratedInfo})),m=(0,x.Z)((function(n){return n.coin1})),f=(0,x.Z)((function(n){return n.coin2})),v=(0,s.Z)((function(n){return n.isMobile})),h=(null===d||void 0===d?void 0:d.baseToken)?(0,Z.n)(d.baseToken,d.baseReserve):void 0,p=(null===d||void 0===d?void 0:d.quoteToken)?(0,Z.n)(d.quoteToken,d.quoteReserve):void 0,b=Ln(String(null===d||void 0===d?void 0:d.baseMint)===String(null===m||void 0===m?void 0:m.mint)?[h,p]:[p,h],2),g=b[0],y=b[1],S=(0,j.$u)(g)&&y?(0,kn.hi)(y,g):void 0,w=c?f:m,N=c?m:f;return S?(0,o.jsxs)(rn.Z,{className:(0,l.m)("font-medium text-sm text-[#ABC4FF]",r),children:[1," ",null!==(e=null===w||void 0===w?void 0:w.symbol)&&void 0!==e?e:"--"," \u2248"," ",(0,k.B)(c?(0,kn.hi)(1,S):S,{decimalLength:v?"auto 2":"auto",zeroDecimalNotAuto:!0})," ",null!==(t=null===N||void 0===N?void 0:N.symbol)&&void 0!==t?t:"--",(0,o.jsx)("div",{className:"ml-2 clickable",onClick:function(){return u((function(n){return!n}))},children:"\u21cb"})]}):null}function $n(n){var e,t,r,a,c,u,d,m,f=n.className,v=(0,x.Z)((function(n){return n.currentHydratedInfo})),h=(0,x.Z)((function(n){return n.coin1})),p=(0,x.Z)((function(n){return n.coin2})),b=(0,x.Z)((function(n){return n.focusSide})),g=(0,x.Z)((function(n){return n.coin1Amount})),y=(0,x.Z)((function(n){return n.coin2Amount})),j=(0,s.Z)((function(n){return n.slippageTolerance})),S=String(null===v||void 0===v?void 0:v.baseMint)===String(null===h||void 0===h?void 0:h.mint),w=S?h:p,N=S?p:h,I=(null===v||void 0===v?void 0:v.baseToken)?(0,Z.n)(v.baseToken,v.baseReserve):void 0,C=(null===v||void 0===v?void 0:v.quoteToken)?(0,Z.n)(v.quoteToken,v.quoteReserve):void 0,A=(0,i.useMemo)((function(){return Boolean(5===(null===v||void 0===v?void 0:v.version))}),[v]);return(0,o.jsx)(Q.Z,{className:(0,l.m)("py-4 px-6 flex-grow ring-inset ring-1.5 ring-[rgba(171,196,255,.5)] rounded-xl items-center",f),children:(0,o.jsxs)(Q.Z,{className:"w-full",children:[(0,o.jsx)(Kn,{fieldName:"Base",fieldValue:"coin1"===b?null!==(e=null===h||void 0===h?void 0:h.symbol)&&void 0!==e?e:"unknown":null!==(t=null===p||void 0===p?void 0:p.symbol)&&void 0!==t?t:"unknown"}),(0,o.jsx)(fn.U,{children:(g||y)&&(0,o.jsx)(Kn,{fieldName:"Max Amount",fieldValue:"".concat((0,jn.Z)("coin1"===b?y||"":null!==g&&void 0!==g?g:"",{fractionLength:"auto"})," ").concat("coin1"===b?null!==(r=null===p||void 0===p?void 0:p.symbol)&&void 0!==r?r:"unknown":null!==(a=null===h||void 0===h?void 0:h.symbol)&&void 0!==a?a:"unknown")})}),(0,o.jsx)(Kn,{fieldName:"Pool liquidity (".concat(null!==(c=null===w||void 0===w?void 0:w.symbol)&&void 0!==c?c:"unknown",")"),fieldValue:(0,o.jsx)("div",{children:I?"".concat((0,jn.Z)(I.toExact())," ").concat(null!==(u=null===w||void 0===w?void 0:w.symbol)&&void 0!==u?u:"unknown"):"--"})}),(0,o.jsx)(Kn,{fieldName:"Pool liquidity (".concat(null!==(d=null===N||void 0===N?void 0:N.symbol)&&void 0!==d?d:"unknown",")"),fieldValue:(0,o.jsx)("div",{children:C?"".concat((0,jn.Z)(C.toExact())," ").concat(null!==(m=null===N||void 0===N?void 0:N.symbol)&&void 0!==m?m:"unknown"):"--"})}),(0,o.jsx)(Kn,{fieldName:"LP supply",fieldValue:(0,o.jsxs)(rn.Z,{className:"items-center gap-2",children:[A&&(0,o.jsx)(Rn.C,{className:"self-center",children:"Stable"}),(0,o.jsx)("div",{children:(null===v||void 0===v?void 0:v.lpToken)?"".concat((0,jn.Z)((0,k.B)((0,Z.n)(v.lpToken,v.lpSupply)))," LP"):"--"})]})}),(0,o.jsxs)(nn.Z,{openDirection:"upwards",className:"w-full",children:[(0,o.jsx)(nn.Z.Body,{children:(0,o.jsxs)(Q.Z,{children:[(0,o.jsx)(Kn,{fieldName:"Addresses",tooltipContent:(0,o.jsx)(Xn,{})}),(0,o.jsx)(Kn,{fieldName:"Slippage Tolerance",fieldValue:(0,o.jsxs)(rn.Z,{className:"py-1 px-2 bg-[#141041] rounded-sm text-[#F1F1F2] font-medium text-xs -my-1",children:[(0,o.jsx)(vn.Z,{className:"w-6",value:(0,k.B)((0,kn.dC)(j,100),{decimalLength:"auto 2"}),onUserInput:function(n){var e=(0,kn.hi)(parseFloat(n),100);e&&s.Z.setState({slippageTolerance:e})}}),(0,o.jsx)("div",{className:"opacity-50 ml-1",children:"%"})]})})]})}),(0,o.jsx)(nn.Z.Face,{children:function(n){return(0,o.jsxs)(rn.Z,{className:"w-full items-center text-xs font-medium text-[rgba(171,196,255,0.5)] cursor-pointer select-none",children:[(0,o.jsx)("div",{className:"py-1.5",children:n?"Show less":"More information"}),(0,o.jsx)(on.Z,{size:"xs",heroIconName:n?"chevron-up":"chevron-down",className:"ml-1"})]})}})]})]})})}function Kn(n){var e=n.className,t=n.fieldName,i=n.fieldValue,r=n.tooltipContent,a=n.debugForceOpen;return(0,o.jsxs)(rn.Z,{className:(0,l.m)("w-full justify-between my-1.5",e),children:[(0,o.jsxs)(rn.Z,{className:"items-center text-xs font-medium text-[#ABC4FF]",children:[(0,o.jsx)("div",{className:"mr-1",children:t}),r&&(0,o.jsxs)(yn.Z,{className:e,placement:"bottom-right",forceOpen:a,children:[(0,o.jsx)(on.Z,{size:"xs",heroIconName:"question-mark-circle",className:"cursor-help"}),(0,o.jsx)(yn.Z.Panel,{children:r})]})]}),(0,o.jsx)("div",{className:"text-xs font-medium text-white",children:i})]})}function Xn(){var n,e,t,i,r,a=(0,x.Z)((function(n){return n.coin1})),l=(0,x.Z)((function(n){return n.coin2})),s=null!==(n=(0,x.Z)((function(n){return n.currentJsonInfo})))&&void 0!==n?n:{},c=s.lpMint,u=s.id,d=s.marketId;return(0,o.jsxs)("div",{className:"w-60",children:[(0,o.jsx)("div",{className:"text-sm font-semibold mb-2",children:"Addresses"}),(0,o.jsxs)(Q.Z,{className:"gap-2",children:[a&&(0,o.jsx)(Yn,{label:null!==(e=a.symbol)&&void 0!==e?e:"--",type:"token",address:String(null!==(t=a.mint)&&void 0!==t?t:"--")}),l&&(0,o.jsx)(Yn,{label:null!==(i=l.symbol)&&void 0!==i?i:"--",type:"token",address:String(null!==(r=l.mint)&&void 0!==r?r:"--")}),Boolean(c)&&(0,o.jsx)(Yn,{label:"LP",type:"token",address:c}),Boolean(u)&&(0,o.jsx)(Yn,{label:"Amm ID",address:u}),Boolean(d)&&(0,o.jsx)(Yn,{label:"Market ID",address:d})]})]})}function Yn(n){var e=n.className,t=n.label,i=n.address,r=n.type,a=void 0===r?"account":r;return(0,o.jsxs)(rn.Z,{className:(0,l.m)("grid gap-2 items-center grid-cols-[5em,1fr,auto,auto]",e),children:[(0,o.jsx)("div",{className:"text-xs font-normal text-white",children:t}),(0,o.jsxs)(rn.Z,{className:"px-1 py-0.5 text-xs font-normal text-white bg-[#141041] rounded justify-center",children:[(0,o.jsx)("div",{className:"self-end overflow-hidden tracking-wide",children:i.slice(0,5)}),(0,o.jsx)("div",{className:"tracking-wide",children:"..."}),(0,o.jsx)("div",{className:"overflow-hidden tracking-wide",children:i.slice(-5)})]}),(0,o.jsxs)(rn.Z,{className:"gap-1 items-center",children:[(0,o.jsx)(on.Z,{size:"sm",heroIconName:"clipboard-copy",className:"clickable text-[#ABC4FF]",onClick:function(){(0,Zn.Z)(i)}}),(0,o.jsx)(xn.Z,{href:"https://solscan.io/".concat(a,"/").concat(i),children:(0,o.jsx)(on.Z,{size:"sm",heroIconName:"external-link",className:"clickable text-[#ABC4FF]"})})]})]})}function Gn(){var n=(0,x.Z)((function(n){return n.hydratedInfos})),e=(0,x.Z)((function(n){return n.userExhibitionLiquidityIds})),t=(0,x.Z)((function(n){return n.isRemoveDialogOpen})),r=(0,x.Z)((function(n){return n.scrollToInputBox})),l=(0,c.Z)((function(n){return n.jsonInfos})),u=((0,m.ZP)((function(n){return n.getToken})),(0,U.Z)((function(n){return n.balances})),(0,U.Z)((function(n){return n.rawBalances}))),d=(0,s.Z)((function(n){return n.isMobile})),f=(0,i.useMemo)((function(){return n.filter((function(n){var t=n.id;return null===e||void 0===e?void 0:e.includes(String(t))}))}),[n,e]);return(0,o.jsxs)("div",{className:"mt-12 max-w-[456px] self-center",children:[(0,o.jsx)("div",{className:"mb-6 text-xl font-medium text-white",children:"Your Liquidity"}),(0,o.jsxs)(X.Z,{className:"p-6 mt-6 mobile:py-5 mobile:px-3",size:"lg",style:{background:"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)"},children:[(0,o.jsx)(hn.Z,{className:"flex flex-col gap-6 mobile:gap-5 ".concat(f.length?"mb-5":""),children:f.map((function(n,e){var t,i,s,c,m,f=l.find((function(e){return e.lpMint===(0,I.Z)(n.lpMint)}));return(0,o.jsx)(hn.Z.Item,{children:(0,o.jsx)(fn.U,{children:(0,o.jsxs)(nn.Z,{className:"py-4 px-6 mobile:px-4 ring-inset ring-1.5 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl",children:[(0,o.jsx)(nn.Z.Face,{children:function(e){var t,i;return(0,o.jsxs)(rn.Z,{className:"items-center justify-between",children:[(0,o.jsxs)(rn.Z,{className:"gap-2 items-center",children:[(0,o.jsx)(Y.Z,{className:"justify-self-center",token1:n.baseToken,token2:n.quoteToken,size:d?"sm":"md"}),(0,o.jsxs)("div",{className:"text-base font-normal text-[#abc4ff]",children:[null!==(s=null===(t=n.baseToken)||void 0===t?void 0:t.symbol)&&void 0!==s?s:"","/",null!==(c=null===(i=n.quoteToken)||void 0===i?void 0:i.symbol)&&void 0!==c?c:""]})]}),(0,o.jsx)(on.Z,{size:"sm",className:"text-[#abc4ff]",heroIconName:"".concat(e?"chevron-up":"chevron-down")})]})}}),(0,o.jsxs)(nn.Z.Body,{children:[(0,o.jsxs)(Q.Z,{className:"border-t-1.5 border-[rgba(171,196,255,.5)] mt-5 mobile:mt-4 py-5 gap-3",children:[(0,o.jsxs)(rn.Z,{className:"justify-between",children:[(0,o.jsx)("div",{className:"text-xs mobile:text-2xs font-medium text-[#abc4ff]",children:"Pooled (Base)"}),(0,o.jsxs)("div",{className:"text-xs mobile:text-2xs font-medium text-white",children:[(0,k.B)(n.userBasePooled)||"--"," ",null===(t=n.baseToken)||void 0===t?void 0:t.symbol]})]}),(0,o.jsxs)(rn.Z,{className:"justify-between",children:[(0,o.jsx)("div",{className:"text-xs mobile:text-2xs font-medium text-[#abc4ff]",children:"Pooled (Quote)"}),(0,o.jsxs)("div",{className:"text-xs mobile:text-2xs font-medium text-white",children:[(0,k.B)(n.userQuotePooled)||"--"," ",null===(i=n.quoteToken)||void 0===i?void 0:i.symbol]})]}),(0,o.jsxs)(rn.Z,{className:"justify-between",children:[(0,o.jsx)("div",{className:"text-xs mobile:text-2xs font-medium text-[#abc4ff]",children:"Your Liquidity"}),(0,o.jsxs)("div",{className:"text-xs mobile:text-2xs font-medium text-white",children:[n.lpMint?(0,k.B)((0,kn.hi)(u[String(n.lpMint)],Math.pow(10,n.lpDecimals)),{decimalLength:"auto ".concat(n.lpDecimals)}):"--"," ","LP"]})]}),(0,o.jsxs)(rn.Z,{className:"justify-between",children:[(0,o.jsx)("div",{className:"text-xs mobile:text-2xs font-medium text-[#abc4ff]",children:"Your share"}),(0,o.jsx)("div",{className:"text-xs mobile:text-2xs font-medium text-white",children:(m=n.sharePercent,m?m.numerator.mul(new(a())(1e4)).div(m.denominator).lt(new(a())(1))?"<0.01%":m.mul(new(a())(100)).toFixed(2)+"%":"--%")})]})]}),(0,o.jsxs)(rn.Z,{className:"gap-4 mb-1",children:[(0,o.jsx)(K.Z,{className:"text-base mobile:text-sm font-medium frosted-glass frosted-glass-teal rounded-xl flex-grow",onClick:function(){x.Z.setState({currentJsonInfo:n.jsonInfo}),r()},children:"Add Liquidity"}),(0,o.jsxs)(yn.Z,{children:[(0,o.jsx)(on.Z,{size:"smi",iconSrc:"/icons/pools-farm-entry.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable-filter-effect ".concat(f?"clickable":"not-clickable"),onClick:function(){var e,t,o,i;(0,$.E)("/farms",{queryProps:{searchText:(0,w.DB)([String(null!==(o=null===(e=n.baseToken)||void 0===e?void 0:e.symbol)&&void 0!==o?o:""),String(null!==(i=null===(t=n.quoteToken)||void 0===t?void 0:t.symbol)&&void 0!==i?i:"")]).join(" ")}})}}),(0,o.jsx)(yn.Z.Panel,{children:"Farm"})]}),(0,o.jsxs)(yn.Z,{children:[(0,o.jsx)(on.Z,{iconSrc:"/icons/msic-swap-h.svg",size:"smi",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:function(){(0,$.E)("/swap",{queryProps:{coin1:n.baseToken,coin2:n.quoteToken}})}}),(0,o.jsx)(yn.Z.Panel,{children:"Swap"})]}),(0,o.jsxs)(yn.Z,{children:[(0,o.jsx)(on.Z,{size:"smi",iconSrc:"/icons/pools-remove-liquidity-entry.svg",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:function(){x.Z.setState({currentJsonInfo:n.jsonInfo,isRemoveDialogOpen:!0})}}),(0,o.jsx)(yn.Z.Panel,{children:"Remove Liquidity"})]})]})]})]})})},e)}))}),(0,o.jsx)(qn,{open:t,onClose:function(){x.Z.setState({isRemoveDialogOpen:!1})}}),(0,o.jsx)("div",{className:"text-xs mobile:text-2xs font-medium text-[rgba(171,196,255,0.5)]",children:"If you staked your LP tokens in a farm, unstake them to see them here"})]})]})}function Qn(){return(0,o.jsxs)("div",{className:"mt-12 max-w-[456px] self-center",children:[(0,o.jsx)("div",{className:"mb-6 text-xl font-medium text-white",children:"Create Pool"}),(0,o.jsx)(X.Z,{className:"p-6 mt-6 mobile:py-5 mobile:px-3",size:"lg",style:{background:"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)"},children:(0,o.jsxs)(rn.Z,{className:"gap-4",children:[(0,o.jsxs)("div",{className:"text-xs mobile:text-2xs font-medium text-[rgba(171,196,255,0.5)]",children:["Create a liquidity pool on Raydium that can be traded on the swap interface."," ",(0,o.jsx)(xn.Z,{noTextStyle:!0,className:"text-[rgba(171,196,255)] hover:underline",href:"https://raydium.gitbook.io/raydium/permissionless/creating-a-pool",children:"Read the guide"})," ","before attempting."]}),(0,o.jsxs)(K.Z,{className:"flex items-center frosted-glass-teal opacity-80",onClick:function(){(0,$.E)("/liquidity/create")},children:[(0,o.jsx)(on.Z,{className:"mr-2",heroIconName:"plus"}),"Create Pool"]})]})})]})}}},function(n){n.O(0,[241,143,41,907,505,774,888,179],(function(){return e=2116,n(n.s=e);var e}));var e=n.O();_N_E=e}]);