(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{95081:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staking",function(){return t(18676)}])},45674:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(85893),r=t(67294),l=t(84055);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){o(e,n,t[n])}))}return e}function s(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function d(e){var n,t=e.haveMinHeight,o=e.wrapperClassName,d=e.children,c=e.domRef,u=s(e,["haveMinHeight","wrapperClassName","children","domRef"]),m=(0,r.useMemo)((function(){var e,n;return(null===(e=u.style)||void 0===e?void 0:e.borderRadius)?"calc(".concat(u.style.borderRadius," + ").concat(1,"px)"):(null===(n=u.className)||void 0===n?void 0:n.includes("round-2xl"))?17:"lg"===u.size?21:"md"===u.size?7:void 0}),[u.className,u.size,null===(n=u.style)||void 0===n?void 0:n.borderRadius]);return(0,i.jsx)("div",{ref:c,className:o,style:{minHeight:t?"300px":void 0,borderRadius:m,padding:1,backgroundImage:"linear-gradient(246deg, #da2eef 7.97%, #2b6aff 49.17%, #39d0d8 92.1%)"},children:(0,i.jsx)(l.Z,a({},u,{children:d}))})}},51045:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var i=t(49552),r=t(80546),l=t(7287),o=t(71633);function a(e,n){try{var t,a=(0,l.Z)(null!==e&&void 0!==e?e:0),s=a.mul((null===n||void 0===n?void 0:n.alreadyPercented)?1:100).toFixed(null!==(t=null===n||void 0===n?void 0:n.fixed)&&void 0!==t?t:2);return(0,i.eq)(a,0)?"0%":(null===n||void 0===n?void 0:n.exact)||"0.00"!==s?(null===n||void 0===n?void 0:n.alwaysSigned)?"".concat((d=s,(0,i.gt)(d,0)?"+":"-")).concat((0,o.B)(function(e){return(0,i.gt)(e,0)?e:(0,r.dC)(e,-1)}(s)),"%"):"".concat(s,"%"):(null===n||void 0===n?void 0:n.alwaysSigned)?"<+0.01%":"<0.01%"}catch(c){return"0%"}var d}},18676:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var i=t(85893),r=t(67294),l=t(11163),o=t(55318),a=t(24734),s=t(73732),d=t(47798),c=t(61353),u=t(94698),m=t(97953),x=(0,t(14671).Z)((function(e,n){return{hydratedStakingInfos:[],stakeDialogMode:"deposit",isStakeDialogOpen:!1,stakeDialogInfo:void 0}})),f=t(15441),g=t(82545),b=t(54204),p=t(37543),v=t(84055),h=t(10317),j=t(96720),k=t(10959),w=t(84699),Z=t(45674),y=t(342),S=t(68998),N=t(83065),R=t(99693),A=t(18869),D=t(31992),M=t(84975),O=t(51045),B=t(76700),C=t(66011),P=t(74133),I=t(49552),L=t(80546),E=t(71633),_=t(35056);function F(){return(0,i.jsxs)(N.Z,{mobileBarTitle:"Staking",metaTitle:"Staking - Raydium",contentIsFixedLength:!0,children:[(0,i.jsx)(z,{}),(0,i.jsx)(Y,{})]})}function z(){var e=(0,m.Z)((function(e){return e.refreshFarmInfos}));return(0,i.jsxs)(y.Z,{className:"grid-cols-[1fr,1fr] items-center gap-y-8 pb-4 pt-2",children:[(0,i.jsx)("div",{className:"title text-2xl mobile:text-lg font-semibold justify-self-start text-white",children:"Staking"}),(0,i.jsx)("div",{className:"justify-self-end",children:(0,i.jsx)(R.Z,{refreshKey:"staking",popPlacement:"left",className:"justify-self-end",freshFunction:e})})]})}function Y(){var e=(0,m.Z)((function(e){return e.hydratedInfos})),n=(0,r.useMemo)((function(){return e.filter((function(e){return e.isStakePool}))}),[e]);return n.length?(0,i.jsx)(Z.Z,{size:"lg",style:{background:"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)"},children:(0,i.jsxs)(D.Z,{type:"grid",className:"gap-3 text-[#ABC4FF]",children:[n.map((function(e){return(0,i.jsx)("div",{children:(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(w.Z.Face,{children:function(n){return(0,i.jsx)(H,{open:n,info:e})}}),(0,i.jsx)(w.Z.Body,{children:(0,i.jsx)(T,{hydratedInfo:e})})]})},String(e.id))})),(0,i.jsx)(W,{})]})}):(0,i.jsx)(D.Z,{className:"text-center justify-center text-2xl p-12 opacity-50 text-[rgb(171,196,255)]",children:(0,i.jsx)(_.Z,{})})}function H(e){var n,t,r,l,o,a,d,c=e.open,u=e.info,m=(0,s.Z)((function(e){return e.isMobile})),x=(0,i.jsxs)(D.Z,{type:"grid-x",className:"py-5 px-8 mobile:py-4 mobile:px-5 gap-2 items-stretch grid-cols-[1.5fr,1fr,1fr,1fr,1fr,auto] mobile:grid-cols-[1fr,1fr,1fr,auto] rounded-t-3xl mobile:rounded-t-lg ".concat(c?"":"rounded-b-3xl mobile:rounded-b-lg"),children:[(0,i.jsx)(J,{info:u}),(0,i.jsx)(U,{name:"Pending Rewards",value:(0,i.jsx)("div",{children:u.rewards.map((function(e,n){var t=e.token,r=e.pendingReward;return e.canBeRewarded&&(0,i.jsxs)("div",{children:[(0,E.B)(null!==r&&void 0!==r?r:0)," ",null===t||void 0===t?void 0:t.symbol]},n)}))})}),(0,i.jsx)(U,{name:"Staked",value:u.base&&u.ledger?"".concat((0,E.B)((0,B.n)(u.base,u.ledger.deposited))," ").concat(null!==(l=null===(n=u.base)||void 0===n?void 0:n.symbol)&&void 0!==l?l:""):"0 ".concat(null!==(o=null===(t=u.base)||void 0===t?void 0:t.symbol)&&void 0!==o?o:"")}),(0,i.jsx)(U,{name:"APR",value:u.totalApr?(0,O.Z)(u.totalApr):"0%"}),(0,i.jsx)(U,{name:"Total Staked",value:u.tvl?"~".concat((0,P.Z)(u.tvl,{decimalPlace:0})):"--",subValue:u.stakedLpAmount&&"".concat((0,M.Z)((0,E.B)(u.stakedLpAmount,{decimalLength:0}))," ").concat(null!==(a=null===(r=u.base)||void 0===r?void 0:r.symbol)&&void 0!==a?a:"")}),(0,i.jsx)(y.Z,{className:"w-9 h-9 place-items-center self-center",children:(0,i.jsx)(S.Z,{size:"sm",className:"justify-self-end mr-1.5",heroIconName:"".concat(c?"chevron-up":"chevron-down")})})]}),f=(0,i.jsxs)(w.Z,{open:c,children:[(0,i.jsx)(w.Z.Face,{children:(0,i.jsxs)(D.Z,{type:"grid-x",className:"py-4 px-5 items-center gap-2 grid-cols-[1fr,1fr,1fr,auto] mobile:rounded-t-lg ".concat(c?"":"rounded-b-3xl mobile:rounded-b-lg"),children:[(0,i.jsx)(J,{info:u}),(0,i.jsx)(U,{name:"Pending Rewards",value:(0,i.jsx)("div",{children:u.rewards.map((function(e,n){var t=e.token,r=e.pendingReward;return e.canBeRewarded&&(0,i.jsxs)("div",{children:[(0,E.B)(null!==r&&void 0!==r?r:0)," ",null!==(d=null===t||void 0===t?void 0:t.symbol)&&void 0!==d?d:""]},n)}))})}),(0,i.jsx)(U,{name:"APR",value:u.totalApr?(0,O.Z)(u.totalApr):"--"}),(0,i.jsx)(y.Z,{className:"w-6 h-6 place-items-center",children:(0,i.jsx)(S.Z,{size:"sm",heroIconName:"".concat(c?"chevron-up":"chevron-down")})})]})}),(0,i.jsx)(w.Z.Body,{children:(0,i.jsxs)(D.Z,{type:"grid-x",className:"py-4 px-5 relative items-stretch gap-2 grid-cols-[1fr,1fr,1fr,auto]",children:[(0,i.jsx)("div",{className:"absolute top-0 left-5 right-5 border-[rgba(171,196,255,.2)] border-t-1.5"}),(0,i.jsx)(U,{name:"Staked",value:u.base&&u.ledger?(0,E.B)((0,B.n)(u.base,u.ledger.deposited)):"--"}),(0,i.jsx)(U,{name:"Total Staked",value:u.tvl?"\u2248".concat((0,P.Z)(u.tvl,{autoSuffix:!0})):"--",subValue:u.stakedLpAmount&&"".concat((0,M.Z)((0,E.B)(u.stakedLpAmount,{decimalLength:0}))," RAY")}),(0,i.jsx)("div",{}),(0,i.jsx)(y.Z,{className:"w-6 h-6 place-items-center"})]})})]});return m?f:x}function T(e){var n,t,d,u,m,v=e.hydratedInfo,h=(0,f.ZP)((function(e){return e.tokenPrices})),j=(0,s.Z)((function(e){return e.isMobile})),k=((0,l.useRouter)().push,(0,g.Z)((function(e){return e.connected}))),w=(0,r.useMemo)((function(){return(0,I.gt)(v.rewards.reduce((function(e,n){return(0,L.IH)(e,null!==(d=n.pendingReward)&&void 0!==d?d:o.xEJ)}),new o.iAi(o.xEJ)),o.xEJ)}),[v]);return(0,i.jsxs)(b.Z,{is:j?"Col":"Row",className:"gap-8 mobile:gap-3 flex-grow px-8 py-5 mobile:px-4 mobile:py-3 bg-gradient-to-br from-[rgba(171,196,255,0.12)] to-[rgba(171,196,255,0.06)]  rounded-b-3xl mobile:rounded-b-lg",children:[(0,i.jsxs)(D.Z,{className:"p-6 mobile:py-3 mobile:px-4 flex-grow ring-inset ring-1.5 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl items-center gap-3",children:[(0,i.jsxs)("div",{className:"flex-grow",children:[(0,i.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mb-1",children:"Deposited"}),(0,i.jsxs)("div",{className:"text-white font-medium text-base mobile:text-xs",children:[(0,M.Z)((0,E.B)(null!==(u=v.userStakedLpAmount)&&void 0!==u?u:0),{fractionLength:null===(n=v.userStakedLpAmount)||void 0===n?void 0:n.token.decimals})," ","RAY"]}),(0,i.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-xs",children:h[String(v.lpMint)]&&v.userStakedLpAmount?(0,P.Z)((0,C.Z)(v.userStakedLpAmount,h[String(v.lpMint)])):"--"})]}),(0,i.jsx)(D.Z,{className:"gap-3",children:v.userHasStaked?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{className:"frosted-glass-teal mobile:px-6 mobile:py-2 mobile:text-xs",onClick:function(){k?x.setState({isStakeDialogOpen:!0,stakeDialogMode:"deposit",stakeDialogInfo:v}):s.Z.setState({isWalletSelectorShown:!0})},children:"Stake"}),(0,i.jsx)(S.Z,{size:j?"sm":"smi",heroIconName:"minus",className:"grid place-items-center w-10 h-10 mobile:w-8 mobile:h-8 ring-inset ring-1.5 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-xl mobile:rounded-lg text-[rgba(171,196,255,.5)] clickable clickable-filter-effect",onClick:function(){k?x.setState({isStakeDialogOpen:!0,stakeDialogMode:"withdraw",stakeDialogInfo:v}):s.Z.setState({isWalletSelectorShown:!0})}})]}):(0,i.jsx)(p.Z,{className:"frosted-glass-teal mobile:py-2 mobile:text-xs",onClick:function(){k?x.setState({isStakeDialogOpen:!0,stakeDialogMode:"deposit",stakeDialogInfo:v}):s.Z.setState({isWalletSelectorShown:!0})},children:k?"Start Staking":"Connect Wallet"})})]}),(0,i.jsxs)(b.Z,{is:j?"Col":"Row",className:(0,a.m)("p-6 mobile:py-3 mobile:px-4 flex-grow ring-inset ring-1.5 mobile:ring-1 ring-[rgba(171,196,255,.5)] rounded-3xl mobile:rounded-xl items-center gap-3"),children:[(0,i.jsx)(D.Z,{className:"flex-grow divide-x-1.5 w-full",children:null===(t=v.rewards)||void 0===t?void 0:t.map((function(e,n){var t,r,l;return e.canBeRewarded&&(0,i.jsxs)("div",{className:"px-4 ".concat(0===n?"pl-0":""," ").concat(n===v.rewards.length-1?"pr-0":""," border-[rgba(171,196,255,.5)]"),children:[(0,i.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs mb-1",children:"Pending rewards"}),(0,i.jsxs)("div",{className:"text-white font-medium text-base mobile:text-xs",children:[(0,E.B)(null!==(m=e.pendingReward)&&void 0!==m?m:0)," ",null===(t=e.token)||void 0===t?void 0:t.symbol]}),(0,i.jsx)("div",{className:"text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs",children:(null===h||void 0===h?void 0:h[String(null===(r=e.token)||void 0===r?void 0:r.mint)])&&(null===e||void 0===e?void 0:e.pendingReward)?(0,P.Z)((0,C.Z)(e.pendingReward,h[String(null===(l=e.token)||void 0===l?void 0:l.mint)])):"--"})]},n)}))}),(0,i.jsx)(p.Z,{className:"frosted-glass frosted-glass-teal rounded-xl mobile:w-full mobile:py-2 mobile:text-xs whitespace-nowrap",onClick:function(){(0,c.Z)(v,{isStaking:!0,rewardAmounts:v.rewards.map((function(e){return e.pendingReward})).filter(I.$u)})},validators:[{should:k,forceActive:!0,fallbackProps:{onClick:function(){return s.Z.setState({isWalletSelectorShown:!0})},children:"Connect Wallet"}},{should:w}],children:"Harvest"})]})]})}function W(){var e=(0,g.Z)((function(e){return e.connected})),n=(0,g.Z)((function(e){return e.balances})),t=(0,g.Z)((function(e){return e.tokenAccounts})),l=x((function(e){return e.stakeDialogInfo})),a=x((function(e){return e.stakeDialogMode})),s=x((function(e){return e.isStakeDialogOpen})),c=(0,r.useState)(),m=c[0],f=c[1],b=(0,r.useMemo)((function(){return Boolean(null===l||void 0===l?void 0:l.lpMint)&&t.some((function(e){var n=e.mint;return String(n)===String(null===l||void 0===l?void 0:l.lpMint)}))}),[t,l]),h=(0,r.useMemo)((function(){return"deposit"===a?(null===l||void 0===l?void 0:l.lpMint)&&n[String(l.lpMint)]:null===l||void 0===l?void 0:l.userStakedLpAmount}),[l,n,a]),k=(0,r.useMemo)((function(){if((null===l||void 0===l?void 0:l.lp)&&m)return(0,B.n)(l.lp,m,{alreadyDecimaled:!0})}),[l,m]),w=(0,r.useMemo)((function(){return Boolean(k&&k.numerator.gt(o.xEJ)&&h&&h.subtract(k).numerator.gte(o.xEJ))}),[h,k]);return(0,i.jsx)(A.Z,{open:s,onClose:function(){f(void 0),x.setState({isStakeDialogOpen:!1,stakeDialogInfo:void 0})},placement:"from-bottom",children:function(n){var t=n.close;return(0,i.jsxs)(v.Z,{className:"shadow-xl backdrop-filter backdrop-blur-xl p-8 rounded-3xl w-[min(468px,100vw)] mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)]",size:"lg",style:{background:"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)",boxShadow:"0px 8px 48px rgba(171, 196, 255, 0.12)"},children:[(0,i.jsxs)(D.Z,{className:"justify-between items-center mb-6",children:[(0,i.jsx)("div",{className:"text-xl font-semibold text-white",children:"withdraw"===a?"Unstake RAY":"Stake RAY"}),(0,i.jsx)(S.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:t})]}),(0,i.jsx)(j.Z,{className:"mb-6",topLeftLabel:"Staking RAY",token:null===l||void 0===l?void 0:l.lp,onUserInput:f,forceBalanceDepositMode:"withdraw"===a,forceBalance:null===l||void 0===l?void 0:l.userStakedLpAmount}),(0,i.jsxs)(D.Z,{className:"flex-col gap-1",children:[(0,i.jsx)(p.Z,{className:"frosted-glass-teal",validators:[{should:e},{should:null===l||void 0===l?void 0:l.lp},{should:w},{should:m},{should:b,fallbackProps:{children:"withdraw"===a?"No Unstakable RAY":"No Stakable RAY"}}],onClick:function(){if((null===l||void 0===l?void 0:l.lp)&&m){var e=(0,B.n)(l.lp,m,{alreadyDecimaled:!0});("withdraw"===a?(0,u.Z)(l,{isStaking:!0,amount:e}):(0,d.Z)(l,{isStaking:!0,amount:e})).then((function(){t()}))}},children:"withdraw"===a?"Unstake RAY":"Stake RAY"}),(0,i.jsx)(p.Z,{type:"text",className:"text-sm backdrop-filter-none",onClick:t,children:"Cancel"})]})]})}})}function J(e){var n=e.info,t=n.base,r=n.name,l=(0,s.Z)((function(e){return e.isMobile}));return(0,i.jsxs)(b.Z,{is:l?"Col":"Row",className:"clickable flex-wrap items-center mobile:items-start",children:[(0,i.jsx)(h.Z,{size:l?"sm":"md",token:t,className:"justify-self-center mr-2"}),(0,i.jsx)("div",{className:"mobile:text-xs font-medium mobile:mt-px mr-1.5",children:r})]})}function U(e){var n=e.name,t=e.value,r=e.subValue,l=e.className;return(0,i.jsxs)(k.Z,{className:(0,a.m)("w-max",l),children:[(0,i.jsx)("div",{className:"mb-1 text-[rgba(171,196,255,0.5)] font-medium text-sm mobile:text-2xs",children:n}),(0,i.jsxs)(k.Z,{className:"flex-grow justify-center",children:[(0,i.jsx)("div",{className:"text-base mobile:text-xs",children:t||"--"}),r&&(0,i.jsx)("div",{className:"text-sm mobile:text-2xs text-[rgba(171,196,255,0.5)]",children:r})]})]})}}},function(e){e.O(0,[98,65,143,41,528,774,888,179],(function(){return n=95081,e(e.s=n);var n}));var n=e.O();_N_E=n}]);